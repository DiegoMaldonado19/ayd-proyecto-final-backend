spring.application.name=PARK CONTROL SA

# Development Configuration
spring.docker.compose.enabled=false

# Server Configuration
server.port=8080
server.servlet.context-path=/api/v1

# Database Configuration
spring.datasource.url=${SPRING_DATASOURCE_URL:jdbc:mariadb://localhost:3306/parkcontrol_db}
spring.datasource.username=${SPRING_DATASOURCE_USERNAME:root}
spring.datasource.password=${SPRING_DATASOURCE_PASSWORD:root}
spring.datasource.driver-class-name=${SPRING_DATASOURCE_DRIVER_CLASS_NAME:org.mariadb.jdbc.Driver}

# JPA Configuration
spring.jpa.hibernate.ddl-auto=none
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.open-in-view=false
spring.jpa.properties.hibernate.jdbc.batch_size=20
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

# Database connection timeout and retry settings
spring.datasource.hikari.connection-timeout=5000
spring.datasource.hikari.initialization-fail-timeout=-1
spring.datasource.hikari.connection-test-query=SELECT 1

# Jackson Configuration
spring.jackson.time-zone=America/Guatemala
spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.serialization.write-dates-as-timestamps=false

# Mail Configuration
spring.mail.host=${MAIL_HOST:smtp.gmail.com}
spring.mail.port=${MAIL_PORT:587}
spring.mail.username=${MAIL_USERNAME:dmaldonado1920@gmail.com}
spring.mail.password=${MAIL_PASSWORD:your-app-password}
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
spring.mail.properties.mail.smtp.starttls.required=true
spring.mail.properties.mail.smtp.ssl.trust=smtp.gmail.com

# JWT Configuration
app.jwt.secret=${JWT_SECRET:mySecretKey123456789012345678901234567890}
app.jwt.expiration=${JWT_EXPIRATION:3600000}
app.jwt.refresh-expiration=${JWT_REFRESH_EXPIRATION:86400000}

# Azure Storage Configuration
azure.storage.account-name=${AZURE_STORAGE_ACCOUNT_NAME:your-storage-account-name}
azure.storage.account-key=${AZURE_STORAGE_ACCOUNT_KEY:your-storage-account-key}
azure.storage.container.incidents=${AZURE_STORAGE_CONTAINER_INCIDENTS:evidencias-incidentes}
azure.storage.container.plate-changes=${AZURE_STORAGE_CONTAINER_PLATE_CHANGES:documentos-cambios}

# Redis Configuration
spring.data.redis.host=${REDIS_HOST:localhost}
spring.data.redis.port=${REDIS_PORT:6379}
spring.data.redis.password=${REDIS_PASSWORD:}
spring.data.redis.timeout=60000
spring.data.redis.jedis.pool.max-active=8
spring.data.redis.jedis.pool.max-idle=8
spring.data.redis.jedis.pool.min-idle=0
spring.data.redis.jedis.pool.max-wait=-1ms

# File Upload Configuration
spring.servlet.multipart.enabled=true
spring.servlet.multipart.max-file-size=10MB
spring.servlet.multipart.max-request-size=10MB
file.upload.path=${FILE_UPLOAD_PATH:./uploads}

# Actuator Configuration
management.endpoints.web.exposure.include=health,info,metrics
management.endpoint.health.show-details=when_authorized
management.info.env.enabled=true

# SpringDoc/Swagger Configuration
springdoc.api-docs.enabled=true
springdoc.swagger-ui.enabled=true
springdoc.api-docs.path=/v3/api-docs
springdoc.swagger-ui.path=/swagger-ui.html
springdoc.swagger-ui.operations-sorter=method
springdoc.swagger-ui.tags-sorter=alpha
springdoc.swagger-ui.try-it-out-enabled=true
springdoc.cache.disabled=true
springdoc.show-spring-data-rest=false

# Spring Data REST Configuration (disabled to avoid conflicts with custom controllers)
spring.data.rest.detection-strategy=annotated

# Application Information
info.app.name=ParkControl S.A.
info.app.description=Parking Management System
info.app.version=1.0.0
info.app.developer=Diego Maldonado

# Logging Configuration
logging.level.com.ayd.parkcontrol=${LOG_LEVEL_APP:DEBUG}
logging.level.org.springframework.security=${LOG_LEVEL_SECURITY:DEBUG}
logging.level.org.springframework.web=${LOG_LEVEL_WEB:INFO}
logging.level.org.hibernate.SQL=${LOG_LEVEL_SQL:DEBUG}
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=${LOG_LEVEL_HIBERNATE:TRACE}
logging.pattern.console=%d{yyyy-MM-dd HH:mm:ss} - %msg%n
logging.file.name=${LOG_FILE_NAME:logs/parkcontrol-application.log}

# Security Configuration
app.security.max-login-attempts=${MAX_LOGIN_ATTEMPTS:5}
app.security.lockout-duration=${LOCKOUT_DURATION:30}
app.security.password-reset-expiration=${PASSWORD_RESET_EXPIRATION:900000}